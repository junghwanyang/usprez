---
title: "01 Read data"
author: "JungHwan Yang"
date: "July 13, 2015"
output: html_document
---

## This is for classifying Twitter users of US Presidential Debate 1 & 3 and post debate coverage for the Debate 1 & 3.

To read the data without formatting errors, I had to read the text file in SPSS and saved in .sav; then read it from R.

The files named usprez1.sav and usprez3.sav contains range of tweets that start from five minute before the debates and about two hours after the debates.

Here I want to import those two files into R and make .RData file.

```{r Read raw data}
library(foreign)

# Read usprez1 data
path1 <- "../data//usprez1.sav" 
d1 <- read.spss(path1, use.value.labels = F, to.data.frame = T)
rm(path1)

# Read usprez3 data
path3 <- "../data//usprez3.sav" 
d3 <- read.spss(path3, use.value.labels = F, to.data.frame = T)
rm(path3)

path3 <- "../data//usprez3.txt" 
d3 <- read.delim(path3, header = F, sep = "\t")
rm(path3)
```

I found some cell in d1 has some errors (probably because of , or some encoding errors). I merge two variables into one.

```{r}
# Merge cells with some errors
d1$V7 <- paste(d1$V7, d1$V70, sep = ""); d1$V70 <- NULL

# Change NULL values("\\N") into NA
# Since there's some weired character error in d1, I have to use sapply()
d1 <- as.data.frame(sapply(d1, gsub, pattern = "\\N", replacement = NA))
d3[d3 == "\\N"] <- NA
```

## Save this file as usprez13.RData for further use